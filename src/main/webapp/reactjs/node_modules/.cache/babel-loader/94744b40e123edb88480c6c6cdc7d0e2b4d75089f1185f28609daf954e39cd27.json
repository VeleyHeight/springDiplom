{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Routes,Route,Link}from\"react-router-dom\";import Plus from'../SVG/Plus';import Minus from'../SVG/Minus';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Basket=_ref=>{let{basketData,setBasketData}=_ref;const handleQuantityChange=(index,value)=>{if(value===0){setBasketData(prevData=>prevData.filter((_,i)=>i!==index));}else{setBasketData(prevData=>{const updatedData=[...prevData];updatedData[index].clickCount=value;return updatedData;});}};const decrementQuantity=index=>{const item=basketData[index];if(item.clickCount>0){handleQuantityChange(index,item.clickCount-1);}};const incrementQuantity=index=>{const item=basketData[index];handleQuantityChange(index,item.clickCount+1);};const getTotalPrice=()=>{return basketData.reduce((total,item)=>total+item.price*item.clickCount,0).toFixed(2);};const getProductNoun=count=>{const lastDigit=count%10;const lastTwoDigits=count%100;if(lastDigit===1&&lastTwoDigits!==11){return'товар';}else if([2,3,4].includes(lastDigit)&&![12,13,14].includes(lastTwoDigits)){return'товара';}else{return'товаров';}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-row py-8 bg-gray-300 min-h-screen\",children:basketData.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"max-h-56 w-[1000px] bg-white rounded-lg p-8 shadow-lg m-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 my-5\",children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430 \\u043F\\u0443\\u0441\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl my-10 \",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"underline text-yellow-500\",children:\"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0437\\u0434\\u0435\\u0441\\u044C\"}),\", \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow bg-white rounded-lg p-8 shadow-lg m-10 overflow-auto\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold mb-4\",children:[basketData.length,\" \",getProductNoun(basketData.length),\" \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435\"]}),/*#__PURE__*/_jsx(\"table\",{className:\"table-auto w-full border-collapse\",children:/*#__PURE__*/_jsx(\"tbody\",{children:basketData.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block font-bold\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"block text-gray-500\",children:[\"\\u0410\\u0440\\u0442\\u0438\\u043A\\u0443\\u043B\\u044C: \",item.id]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"items-center mt-2 max-w-32 bg-gray-300 rounded-full flex justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>decrementQuantity(index),className:\"text-gray-800 font-bold py-1 px-2\",children:/*#__PURE__*/_jsx(Minus,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.clickCount,min:\"0\",onChange:e=>{if(e.target.value>=1){handleQuantityChange(index,parseInt(e.target.value));}else{handleQuantityChange(index,1);}},className:\"w-10 px-2 py-1 border-none bg-gray-300 text-gray-800 text-center text-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>incrementQuantity(index),className:\"text-gray-800 font-bold py-1 px-2\",children:/*#__PURE__*/_jsx(Plus,{})})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-black font-bold text-xl\",children:[(item.price*item.clickCount).toFixed(2),\" \\u0440\\u0443\\u0431.\"]})]},index))})})]}),basketData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-[500px] max-h-48 bg-white rounded-lg p-8 shadow-lg m-10 flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:\"\\u0418\\u0442\\u043E\\u0433\\u043E:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold\",children:[getTotalPrice(),\" \\u0440\\u0443\\u0431.\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-yellow-500 w-full h-[50px] text-gray-800 font-bold py-2 px-8 rounded-full text-xl\",children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"})]})]})});};","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Link","Plus","Minus","jsx","_jsx","jsxs","_jsxs","Basket","_ref","basketData","setBasketData","handleQuantityChange","index","value","prevData","filter","_","i","updatedData","clickCount","decrementQuantity","item","incrementQuantity","getTotalPrice","reduce","total","price","toFixed","getProductNoun","count","lastDigit","lastTwoDigits","includes","className","children","length","to","map","name","id","onClick","type","min","onChange","e","target","parseInt"],"sources":["D:/OneDrive/Desktop/Projects/react-start/src/Pages/Basket.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\"\r\nimport Plus from '../SVG/Plus';\r\nimport Minus from '../SVG/Minus';\r\n\r\nexport const Basket = ({ basketData, setBasketData }) => {\r\n  const handleQuantityChange = (index, value) => {\r\n    if (value === 0) {\r\n      setBasketData((prevData) =>\r\n        prevData.filter((_, i) => i !== index)\r\n      );\r\n    } else {\r\n      setBasketData((prevData) => {\r\n        const updatedData = [...prevData];\r\n        updatedData[index].clickCount = value;\r\n        return updatedData;\r\n      });\r\n    }\r\n  };\r\n\r\n  const decrementQuantity = (index) => {\r\n    const item = basketData[index];\r\n    if (item.clickCount > 0) {\r\n      handleQuantityChange(index, item.clickCount - 1);\r\n    }\r\n  };\r\n\r\n  const incrementQuantity = (index) => {\r\n    const item = basketData[index];\r\n    handleQuantityChange(index, item.clickCount + 1);\r\n  };\r\n\r\n  const getTotalPrice = () => {\r\n    return basketData.reduce((total, item) => total + item.price * item.clickCount, 0).toFixed(2);\r\n  };\r\n\r\n  const getProductNoun = (count) => {\r\n    const lastDigit = count % 10;\r\n    const lastTwoDigits = count % 100;\r\n\r\n    if (lastDigit === 1 && lastTwoDigits !== 11) {\r\n      return 'товар';\r\n    } else if ([2, 3, 4].includes(lastDigit) && ![12, 13, 14].includes(lastTwoDigits)) {\r\n      return 'товара';\r\n    } else {\r\n      return 'товаров';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-row py-8 bg-gray-300 min-h-screen\">\r\n      {basketData.length === 0 ? (\r\n        <div className=\"max-h-56 w-[1000px] bg-white rounded-lg p-8 shadow-lg m-10\">\r\n          <h1 className=\"text-2xl font-bold mb-4 my-5\">Корзина пуста</h1>\r\n          <div className=\"text-xl my-10 \">\r\n            <Link to=\"/\" className=\"underline text-yellow-500\">\r\n              Нажмите здесь\r\n            </Link>\r\n            , чтобы продолжить покупки\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"w-full flex\">\r\n          <div className=\"flex-grow bg-white rounded-lg p-8 shadow-lg m-10 overflow-auto\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">{basketData.length} {getProductNoun(basketData.length)} в корзине</h1>\r\n            <table className=\"table-auto w-full border-collapse\">\r\n              <tbody>\r\n                {basketData.map((item, index) => (\r\n                  <tr key={index} className=\"border-b\">\r\n                    <td className=\"px-4 py-2\">\r\n                      <span className=\"block font-bold\">{item.name}</span>\r\n                      <span className=\"block text-gray-500\">Артикуль: {item.id}</span>\r\n                    </td>\r\n                    <td className=\"px-4 py-2 flex items-center justify-center\">\r\n                      <div className=\"items-center mt-2 max-w-32 bg-gray-300 rounded-full flex justify-center\">\r\n                        <button\r\n                          onClick={() => decrementQuantity(index)}\r\n                          className=\"text-gray-800 font-bold py-1 px-2\"\r\n                        >\r\n                          <Minus/>\r\n                        </button>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.clickCount}\r\n                          min=\"0\"\r\n                          onChange={(e) => { if (e.target.value >= 1) { handleQuantityChange(index, parseInt(e.target.value)) } else { handleQuantityChange(index, 1) } }}\r\n                          className=\"w-10 px-2 py-1 border-none bg-gray-300 text-gray-800 text-center text-lg\"\r\n                        />\r\n                        <button\r\n                          onClick={() => incrementQuantity(index)}\r\n                          className=\"text-gray-800 font-bold py-1 px-2\"\r\n                        >\r\n                          <Plus/>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-4 py-2 text-black font-bold text-xl\">{(item.price * item.clickCount).toFixed(2)} руб.</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          {basketData.length > 0 && (\r\n            <div className=\"w-[500px] max-h-48 bg-white rounded-lg p-8 shadow-lg m-10 flex flex-col justify-between\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <p className=\"text-3xl font-bold\">Итого:</p>\r\n                <p className=\"text-3xl font-bold\">{getTotalPrice()} руб.</p>\r\n              </div>\r\n              <button className=\"bg-yellow-500 w-full h-[50px] text-gray-800 font-bold py-2 px-8 rounded-full text-xl\">\r\n                Оформить заказ\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}